(function($) {
    Drupal.theme.prototype.cascadiaExampleButton = function(path, title) {
        return $('<a href="' + path + '" title="' + title + '">' + title + "</a>");
    };
    Drupal.behaviors.cascadiaExampleBehavior = {
        attach: function(context, settings) {
            $("a.js-page-top").on("click", function(event) {
                event.preventDefault();
                $("html,body").animate({
                    scrollTop: 0
                }, 400);
            });
            $('a[href^="#"]').on("click", function(event) {
                var target = $(this.getAttribute("href"));
                if (target.length) {
                    event.preventDefault();
                    var targetOffset = target.offset().top;
                    $("html, body").stop().animate({
                        scrollTop: targetOffset - 80
                    }, 400);
                }
            });
            $(".js-menu-toggle").on("click", function(event) {
                var $toggle = $(this);
                var $navRegion = $(".l-region--navigation");
                if ($toggle.is(".js-menu-toggle-active")) {
                    $toggle.removeClass("js-menu-toggle-active");
                    $toggle.removeClass("menu__button-toggle--active");
                    $navRegion.slideUp("fast");
                } else {
                    $toggle.addClass("js-menu-toggle-active");
                    $toggle.addClass("menu__button-toggle--active");
                    $navRegion.slideDown("fast");
                }
            });
            var $menuItemParents = $(".menu-item--parent");
            $(".menu-item--parent .js-menu-item-toggle").on("click", function() {
                var $toggle = $(this);
                var $parent = $toggle.closest(".menu-item--parent");
                var $siblings = $toggle.siblings("ul.menu");
                if ($toggle.is(".js-menu-item-toggle-active")) {
                    $toggle.removeClass("js-menu-item-toggle-active");
                    $parent.removeClass("menu-item--active");
                    $siblings.slideUp("fast");
                } else {
                    $menuItemParents.find(".js-menu-item-toggle").removeClass("js-menu-item-toggle-active");
                    $menuItemParents.removeClass("menu-item--active");
                    $menuItemParents.find("ul.menu").slideUp("fast");
                    $toggle.addClass("js-menu-item-toggle-active");
                    $parent.addClass("menu-item--active");
                    $siblings.slideDown("fast");
                }
            });
            var $activeTrailToggle = $menuItemParents.children(".active-trail").siblings(".js-menu-item-toggle");
            $activeTrailToggle.trigger("click");
        }
    };
})(jQuery);