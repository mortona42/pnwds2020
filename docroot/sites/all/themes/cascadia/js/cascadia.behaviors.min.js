(function($) {
    Drupal.theme.prototype.cascadiaExampleButton = function(path, title) {
        return $('<a href="' + path + '" title="' + title + '">' + title + "</a>");
    };
    Drupal.behaviors.cascadiaExampleBehavior = {
        attach: function(context, settings) {
            $(".some-selector", context).once("foo", function() {
                var $anchor = Drupal.theme("cascadiaExampleButton", settings.myExampleLinkPath, settings.myExampleLinkTitle);
                $anchor.appendTo(this);
            });
            $("a.js-page-top").on("click", function(event) {
                event.preventDefault();
                $("html,body").animate({
                    scrollTop: 0
                }, 400);
            });
            $('a[href^="#"]').on("click", function(event) {
                var target = $(this.getAttribute("href"));
                if (target.length) {
                    event.preventDefault();
                    var targetOffset = target.offset().top;
                    $("html, body").stop().animate({
                        scrollTop: targetOffset - 80
                    }, 400);
                }
            });
            $(".js-menu-toggle").on("click", function(event) {
                if ($(this).is(".js-menu-toggle-active")) {
                    $(this).removeClass("js-menu-toggle-active");
                    $(this).removeClass("menu__button-toggle--active");
                    $(".l-region--navigation").slideUp("fast");
                } else {
                    $(this).addClass("js-menu-toggle-active");
                    $(this).addClass("menu__button-toggle--active");
                    $(".l-region--navigation").slideDown("fast");
                }
            });
            $(".menu-item--parent .js-menu-item-toggle").on("click", function() {
                if ($(this).is(".js-menu-item-toggle-active")) {
                    $(this).removeClass("js-menu-item-toggle-active");
                    $(this).closest(".menu-item--parent").removeClass("menu-item--active");
                    $(this).siblings("ul.menu").slideUp("fast");
                } else {
                    $("ul.menu li .js-menu-item-toggle").removeClass("js-menu-item-toggle-active");
                    $("ul.menu li").removeClass("menu-item--active");
                    $("ul.menu li ul.menu").slideUp("fast");
                    $(this).addClass("js-menu-item-toggle-active");
                    $(this).closest(".menu-item--parent").addClass("menu-item--active");
                    $(this).siblings("ul.menu").slideDown("fast");
                }
            });
            $(".menu-item--parent").on("mouseover mouseout", function() {
                if ($(window).width() >= 770) {
                    $(this).toggleClass("menu-item--active");
                    $(this).find("ul.menu").slideToggle("fast");
                }
            });
        }
    };
})(jQuery);